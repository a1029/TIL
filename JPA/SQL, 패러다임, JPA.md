# JPA 1장

## 스터디 1주차
- 김한빈, 이정준, 권영기
- 2021-10-01 ~ 2021-10-03
- 교재 : 자바 ORM 표준 JPA 프로그래밍
- 장소: 온라인 ZOOM

## SQL을 직접 다룰 때 발생하는 문제점  
- JDBC API을 사용해야 한다.
- SQL을 직접 작성해야 한다.
- DB로부터 받아온 결과를 객체와 매핑해야 한다.

예시1 : 객체의 속성이 하나 추가된 경우 
- 클래스에 멤버 변수 추가
- SQL 수정
- 조회 결과를 객체랑 매핑하는 코드 수정
- => 해야할 작업이 3개나 됨
- 조회뿐만 아니라 생성, 수정, 삭제 등 다른 요청작업도 전부 비슷한 상황이 됨

예시2: 연관관계를 맺고 있는 테이블의 정보까지 가져오려는 경우(JOIN)
- 새로운 함수를 만들어야할 수도 있음

## JPA와 문제 해결

JPA는 이런 복잡한 문제를 간단히 해결할 수 있게 해줌
- `jpa.persist(member)` => 객체를 바로 매개변수로 던져주면 알아서 저장
- `jpa.find(Member.class, memberId)` => 설명

## 패러다임의 불일치
- JPA가 등장하게 된 핵심 배경??
- 관계형 데이터베이스와 객체지향 프로그래밍이 지향하는 목적의 차이
- 상속
  - 객체의 상속
  - 테이블의 상속? 슈퍼타입, 서브타입
- 연관관계
  - 객체간의 참조
  - 테이블 외래키, JOIN
- 객체 그래프 탐색
  - 객체가 a->b->c->d->e... 처럼 깊게 줄지어져 관계가 맺어져 있다면
  - 테이블에서 a와 e를 동시에 가져올 수 있을까? 결국 새로운 쿼리를 작성해야 한다.
- 비교
  - 같은 SQL을 두번 실행하고 객체로 매핑할 경우 객체의 일치 문제, 싱글톤?

## JPA란?
- 자바 <-> JDBC API <-> DB 에서
- 자바 <-> JPA <-> JDBC API <-> DB 로 계층이 하나 추가
- 하지만 JPA는 JDBC API 관련 작업을 **모두 알아서 해줌**
- 쿼리문 작성, 객체 매핑 등 반복되는 지루한 작업이 필요 없다.
- 이러한 작업 뿐만 아니라 패러다임의 불일치 문제도 해결해줌

## JPA 소개
- JPA는 자바 ORM에 기술에 대한 표준 API 명세
- 이 API 명세를 구현한 프레임워크들.. Hibernate, EclipseLink, DataNuclues

## JPA를 사용해야 하는 이유, 권장 ㅋ
- 생산성
- 유지보수
- 패러다임의 불일치 해결
- 성능
- 벤더 독립성

## JPA 의문점
- ORM을 쓸 경우 SQL을 몰라도 되는가?
- 성능 문제?
- 매우 복잡한 쿼리를 ORM 형식으로 작성가능한가? 목요일날 미션하면서 겪은 문제 설명
- 마이바티스와의 차이점
- 아직 사용이 더딘 대한민국의 현실, but 기회로 삼을 수 있음
- 그만큼 어렵다. 얕보면 안된다.

끝 
