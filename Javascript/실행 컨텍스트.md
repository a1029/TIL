## 21-08-17

### 소스 코드 타입
- 전역 코드
- 함수 코드
- eval 코드
- 모듈 코드

# 실행 컨텍스트
소스코드의 평가 -> 실행 컨텍스트 생성 -> 소스코드 실행

## 실행 컨텍스트 스택
- 코드 실행 순서를 관리

## 렉시컬 환경
- 실행 컨텍스트를 구성하는 컴포넌트, 자료구조
- 스코프와 식별자를 관리
- 두 개의 컴포넌트(환경 레코드, 외부 렉시컬 환경에 대한 참조)로 구성

## 전역 코드 평가
- 전역 실행 컨텍스트 생성
- 전역 렉시컬 환경 생성
  - 전역 환경 레코드 생성
    - 객체 환경 레코드 생성
    - 선언적 환경 레코드 생성
- this 바인딩
- 외부 렉시컬 환경에 대한 참조 결정

## 함수 코드 평가
- 함수 실행 컨텍스트 생성
- 함수 렉시컬 환경 생성
  - 함수 환경 레코드 생성
  - this 바인딩
  - 외부 렉시컬 환경에 대한 참조 결정


## 실행 컨텍스트와 렉시컬 환경의 소멸
함수 코드 실행이 끝나면 실행 컨텍스트 스택에서 현재 실행중인 실행 컨텍스트 제거,

실행 컨텍스트가 제거되었다고 해서 렉시컬 환경까지 즉시 제거되는건 아님. 실행 컨텍스트에 의해 참조되는 렉시컬 환경은 독립적인 **객체**임.

객체를 포함한 모든 값은 가비지 컬렉터에 의해 제거되기 때문에 누군가 참조하고 있다면 가비지 컬렉터는 제거 대상으로 보지 않음

즉, 만약 누군가 어떤 렉시컬 환경을 참조하고 있다면 그 렉시컬 환경은 소멸되지 않음 

## 블록 레벨 스코프

- var : 함수만
- let : 함수, if문, for문, while문, try/catch 문 등