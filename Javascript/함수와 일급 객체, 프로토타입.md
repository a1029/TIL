
## 21-08-15, 16

# 일급 객체
무명의 리터럴로 생성 가능, 즉, 런타임에 생성 가능

변수나 자료구조에 저장가능

함수의 매개변수로 사용 가능

함수의 반환값으로 사용 가능


### 함수 객체의 프로퍼티
- `console.dir('')`로 확인, length, name, arguments, caller, prototype, __proto__ (__proto__는 접근자 프로퍼티)

# 프로토타입
자바스크립트는 명령형, 함수형, 프로토타입 기반 객체지향을 지원하는 멀티 패러다임 프로그래밍 언어

ES6에서 클래스 도입, 자바스크립트에서의 클래스도 함수.

자바스크립트에서의 상속은 프로토타입을 활용하여 다른 언어의 상속과는 다르게 불필요한 중복을 발생시키지 않음.

![다운로드](https://user-images.githubusercontent.com/15135565/129480603-a10ef8db-2638-463b-ab13-899432b3af40.png)  
https://gocoding.tistory.com/242

생성자 함수의 `prototype` 프로퍼티는 생성자 함수의 프로토타입을 가르키고,
생성자 함수 프로토타입의 `constructor` 프로퍼티는 생성자 함수를 가리킴.


생성자 함수로 생성된 각 객체 인스턴스는 `__proto__` 접근자 프로퍼티로 프로토타입에 접근할 수 있음.

### `__proto__` 프로퍼티

- `__proto__` 접근자 프로퍼티는 상속을 통해 사용. 즉, Object.prototype의 프로퍼티임.
- `__proto__` 접근자 프로퍼티로 프로토타입에 접근하는 이유는 프로토타입 체인의 서클을 방지하기 위함

- 코드 내에서 직접 사용하는 것은 권장하지 않음. `Object.getPrototypeOf()` 권장

### prototype 프로퍼티

- 객체 인스턴스가 아닌 생성자 함수의 프로토타입을 가리키는 프로퍼티.
하지만 객체가 가지고 있는 `__proto__` 프로퍼티와 생성자 함수의 `prototype` 프로퍼티는 서로 동일한 프로토타입을 가르킴. 사용하는 주체가 다를 뿐


### constructor 프로퍼티
- 프로토타입은 `constructor` 프로퍼티를 가지고 있고, 이 프로퍼티는 생성자 함수를 가르킴.
객체는 상속을 통해 프로토타입의 `constructor` 프로퍼티를 상속받고, 이는 생성자 함수에 접근할 수 있음. 즉, 생성된 각 객체는 constructor로 생성자 함수에 접근 가능

## 리터럴 표기법에 의해 생성된 객체의 생성자 함수와 프로토 타입

## 프로토타입의 생성 시점
- 프로토타입은 생성자 함수가 생성되는 시점에 더불어 생성됨. **프로토타입과 생성자 함수는 단독으로 존재할 수 없고, 언제나 쌍(Pair)로 존재**
- non-constructor는 프로토타입이 생성되지 않음 (화살표 함수)


## 객체 생성 방식과 프로토타입 결정
- 객체 리터럴과 Object 생성자 함수에 의해 생성된 객체의 프로토타입 
  + `Object.prototype`이 인스턴스의 프로토타입으로 할당됨  
- 생성자 함수에 의해 생성된 객체의 프로토타입
  + 생성자 함수의 prototype이 인스턴스의 프로토타입으로 할당됨
  + 생성자 함수의 prototype의 프로토타입은 `Object.prototype` 임 (상속)

## 프로토타입 체인
- 자신의 프로퍼티부터 시작하여 프로퍼티를 순차적으로 검색하되, 자신의 부모 역할을 하는 프로토타입은 `[[Prototype]]` 내부 슬롯의 참조를 이용
- 자바스크립트만의 상속과 프로퍼티 검색을 위한 메커니즘

## 오버라이딩과 프로퍼티 섀도잉
- 프로퍼티 섀도잉은 자바의 오버라이딩과 비슷
- 프로토타입 프로퍼티와 같은 이름의 프로퍼티를 인스턴스에 추가하면 프로토타입 프로퍼티를 덮어씌우는것이 아님

## 프로토타입의 교체
- 생성자 함수에 의해 프로토타입이 교체될 경우
  + 인스턴스는 교체된 프로토타입을 상속
- 인스턴스에 의해 프로토타입이 교체될 경우
  + 생성자 함수의 prototype 프로퍼티는 교체된 프로토타입을 가리키지 않음

## instance of 연산자
- 생성자 함수의 prototype 프로퍼티에 바인딩된 객체가 인스턴스의 프로토타입 체인 상에 존재하는지 확인

## 직접 상속
`Object.create()`, 객체 리터럴 내부에서 `__proto__` 로 상속

## 정적 프로퍼티/메서드
- 자바의 클래스 static 메소드와 비슷
- 생성자 함수로 인스턴스를 생성하지 않아도 참조/호출할 수 있는 프로퍼티/메서드
- 정적 프로퍼티/메서드는 인스턴스의 프로토타입 체인 상에 없으므로 인스턴스는 정적 프로퍼티/메서드에 접근할 수 없음
- `Object.create()` => 정적 메서드, `Object.prototype.hasOwnProperty()` => 프로토타입 메서드


`in` 연산자, `Object.prototype.hasOwnProperty`
- 객체 내에 프로퍼티 존재 확인
`for ... in` 문, `Object.keys/values/entries` 메서드
- 프로퍼티 열거